<section class="card-view row">

    <!-- order of filters: filterbytext -> order-> slice -->
    <div class="col-md-3 col-sm-4 col-xs-6 wrapper" ng-repeat="person in filtered = (data | filterBy: ['name', 'email', 'phone', 'department']:filterstr) | orderBy:order:orderdir | sliceFilter:currentPage:limit track by person.id">
        <div class="card-item text-center">
            <h4>{{person.name}}</h3>

            <!-- avatar image -->
            <img class="img-responsive" ng-src="{{person.avatar}}" alt="{{person.name}}">

            <ul class="list-unstyled">
                <li><b>{{person.department}}</b></li>
                <li>{{person.phone}}</li>
                <li><a href="mailto:{{person.email}}">{{person.email}}</a></li>
            </ul>
        </div>
    </div>

    <!-- pagination -->
    <div class="text-center col-md-12">
        <uib-pagination
            ng-show="filtered.length > limit"
            total-items="filtered.length"
            ng-model="currentPage"
            max-size="3"
            items-per-page="limit"
            boundary-link-numbers="true"
        >
        </uib-pagination>
    </div>

    <!-- staff footer -->
    <div class="staff-footer col-md-12">
        <p class="lead text-center staff-loading" ng-show="loading">
            Load staff...
        </p>

        <p class="staff-count" ng-show="filtered.length > 0"><b>Total count:</b> {{filtered.length}}</p>
        <p class="staff-not-found" ng-show="emptyResults()"><b>Sorry, we can't find anyone</b></p>
    </div>

</section>